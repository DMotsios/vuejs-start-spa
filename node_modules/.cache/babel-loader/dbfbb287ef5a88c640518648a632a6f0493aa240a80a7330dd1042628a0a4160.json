{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject, ref, computed, watch } from 'vue';\nimport { useRouter } from 'vue-router';\nimport Pages from './Pages.vue';\nexport default {\n  __name: 'CreatePage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const bus = inject('$bus');\n    let pageTitle = ref('');\n    let content = ref('');\n    let linkText = ref('');\n    let published = ref(true);\n    function submitForm() {\n      if (!pageTitle || !content || !linkText) {\n        alert('Please fill in all fields');\n        return;\n      }\n      let newPage = {\n        pageTitle: pageTitle,\n        content: content,\n        link: {\n          text: linkText\n        },\n        published: published\n      };\n      pages.addPage(newPage);\n      bus.$emit('page-created', newPage);\n      router.push({\n        path: '/pages'\n      });\n    }\n    const isFormInValid = computed(() => {\n      return !pageTitle || !content || !linkText;\n    });\n    watch(pageTitle, (newTitle, oldTitle) => {\n      if (linkText === oldTitle) {\n        linkText = newTitle;\n      }\n    });\n    const __returned__ = {\n      router,\n      bus,\n      get pageTitle() {\n        return pageTitle;\n      },\n      set pageTitle(v) {\n        pageTitle = v;\n      },\n      get content() {\n        return content;\n      },\n      set content(v) {\n        content = v;\n      },\n      get linkText() {\n        return linkText;\n      },\n      set linkText(v) {\n        linkText = v;\n      },\n      get published() {\n        return published;\n      },\n      set published(v) {\n        published = v;\n      },\n      submitForm,\n      isFormInValid,\n      inject,\n      ref,\n      computed,\n      watch,\n      get useRouter() {\n        return useRouter;\n      },\n      Pages\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["inject","ref","computed","watch","useRouter","Pages","router","bus","pageTitle","content","linkText","published","submitForm","alert","newPage","link","text","pages","addPage","$emit","push","path","isFormInValid","newTitle","oldTitle"],"sources":["C:/Users/motsi/OneDrive/Desktop/vuejs/vue-start-spa/src/components/CreatePage.vue"],"sourcesContent":["<template>\r\n    <form action=\"\" class=\"container mb-3\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">\r\n                        Page Title\r\n                    </label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"pageTitle\">\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">\r\n                        Content\r\n                    </label>\r\n                    <textarea type=\"text\" class=\"form-control\" rows=\"5\" v-model=\"content\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class=\"col\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">Link Text</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"linkText\">\r\n                </div>\r\n                <div class=\"row mb-3\">\r\n                    <div class=\"form-check\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" v-model=\"published\">\r\n                        <label class=\"form-check-label\" for=\"gridCheck1\"> Published</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <button class=\"btn btn-primary\" @click.prevent=\"submitForm()\" :disabled=\"isFormInValid\">Create\r\n                    Page</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, ref, computed, watch } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport Pages from './Pages.vue';\r\n\r\nconst router = useRouter();\r\nconst bus = inject('$bus');\r\n\r\nlet pageTitle = ref('');\r\nlet content = ref('');\r\nlet linkText = ref('');\r\nlet published = ref(true);\r\n\r\n\r\nfunction submitForm() {\r\n    if (!pageTitle || !content || !linkText) {\r\n        alert('Please fill in all fields')\r\n        return\r\n    }\r\n    let newPage = {\r\n        pageTitle: pageTitle,\r\n        content: content,\r\n        link: {\r\n            text: linkText,\r\n        },\r\n        published: published\r\n    }\r\n    pages.addPage(newPage);\r\n\r\n    bus.$emit('page-created', newPage);\r\n    router.push({ path: '/pages' });\r\n}\r\n\r\nconst isFormInValid = computed(() => {\r\n    return !pageTitle || !content || !linkText;\r\n});\r\n\r\nwatch(pageTitle, (newTitle, oldTitle) => {\r\n    if (linkText === oldTitle) {\r\n        linkText = newTitle;\r\n    }\r\n});\r\n\r\n</script>\r\n"],"mappings":";AAyCA,SAASA,MAAM,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AAClD,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,KAAK,MAAM,aAAa;;;;;;;IAE/B,MAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,GAAG,GAAGP,MAAM,CAAC,MAAM,CAAC;IAE1B,IAAIQ,SAAS,GAAGP,GAAG,CAAC,EAAE,CAAC;IACvB,IAAIQ,OAAO,GAAGR,GAAG,CAAC,EAAE,CAAC;IACrB,IAAIS,QAAQ,GAAGT,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIU,SAAS,GAAGV,GAAG,CAAC,IAAI,CAAC;IAGzB,SAASW,UAAUA,CAAA,EAAG;MAClB,IAAI,CAACJ,SAAS,IAAI,CAACC,OAAO,IAAI,CAACC,QAAQ,EAAE;QACrCG,KAAK,CAAC,2BAA2B,CAAC;QAClC;MACJ;MACA,IAAIC,OAAO,GAAG;QACVN,SAAS,EAAEA,SAAS;QACpBC,OAAO,EAAEA,OAAO;QAChBM,IAAI,EAAE;UACFC,IAAI,EAAEN;QACV,CAAC;QACDC,SAAS,EAAEA;MACf,CAAC;MACDM,KAAK,CAACC,OAAO,CAACJ,OAAO,CAAC;MAEtBP,GAAG,CAACY,KAAK,CAAC,cAAc,EAAEL,OAAO,CAAC;MAClCR,MAAM,CAACc,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IACnC;IAEA,MAAMC,aAAa,GAAGpB,QAAQ,CAAC,MAAM;MACjC,OAAO,CAACM,SAAS,IAAI,CAACC,OAAO,IAAI,CAACC,QAAQ;IAC9C,CAAC,CAAC;IAEFP,KAAK,CAACK,SAAS,EAAE,CAACe,QAAQ,EAAEC,QAAQ,KAAK;MACrC,IAAId,QAAQ,KAAKc,QAAQ,EAAE;QACvBd,QAAQ,GAAGa,QAAQ;MACvB;IACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}