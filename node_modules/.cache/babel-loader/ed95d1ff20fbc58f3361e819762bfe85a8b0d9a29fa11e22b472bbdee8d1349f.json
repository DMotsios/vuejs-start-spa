{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject, ref, computed, watch } from 'vue';\nimport { useRouter } from 'vue-router';\nimport Pages from './Pages.vue';\nconst __default__ = {\n  emits: ['pageCreated'],\n  computed: {\n    isFormInValid() {\n      return !this.pageTitle || !this.content || !this.linkText || !this.linkURL;\n    }\n  },\n  methods: {},\n  watch: {\n    pageTitle(newTitle, oldTitle) {\n      if (this.linkText === oldTitle) {\n        this.linkText = newTitle;\n      }\n    }\n  }\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  __name: 'CreatePage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const bus = inject('$bus');\n    let pageTitle = ref('');\n    let content = ref('');\n    let linkText = ref('');\n    let published = ref(true);\n    function submitForm() {\n      if (!pageTitle || !content || !linkText) {\n        alert('Please fill in all fields');\n        return;\n      }\n      let newPage = {\n        pageTitle: pageTitle,\n        content: content,\n        link: {\n          text: linkText\n        },\n        published: published\n      };\n      pages.addPage(newPage);\n      bus.$emit('page-created', newPage);\n      router.push({\n        path: '/pages'\n      });\n    }\n    const __returned__ = {\n      router,\n      bus,\n      get pageTitle() {\n        return pageTitle;\n      },\n      set pageTitle(v) {\n        pageTitle = v;\n      },\n      get content() {\n        return content;\n      },\n      set content(v) {\n        content = v;\n      },\n      get linkText() {\n        return linkText;\n      },\n      set linkText(v) {\n        linkText = v;\n      },\n      get published() {\n        return published;\n      },\n      set published(v) {\n        published = v;\n      },\n      submitForm,\n      inject,\n      ref,\n      computed,\n      watch,\n      get useRouter() {\n        return useRouter;\n      },\n      Pages\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["inject","ref","computed","watch","useRouter","Pages","__default__","emits","isFormInValid","pageTitle","content","linkText","linkURL","methods","newTitle","oldTitle","router","bus","published","submitForm","alert","newPage","link","text","pages","addPage","$emit","push","path"],"sources":["C:/Users/motsi/OneDrive/Desktop/vuejs/vue-start-spa/src/components/CreatePage.vue"],"sourcesContent":["<template>\r\n    <form action=\"\" class=\"container mb-3\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">\r\n                        Page Title\r\n                    </label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"pageTitle\">\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">\r\n                        Content\r\n                    </label>\r\n                    <textarea type=\"text\" class=\"form-control\" rows=\"5\" v-model=\"content\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div class=\"col\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"\" class=\"form-label\">Link Text</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"linkText\">\r\n                </div>\r\n                <div class=\"row mb-3\">\r\n                    <div class=\"form-check\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" v-model=\"published\">\r\n                        <label class=\"form-check-label\" for=\"gridCheck1\"> Published</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <button class=\"btn btn-primary\" @click.prevent=\"submitForm()\" :disabled=\"isFormInValid\">Create\r\n                    Page</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, ref,computed, watch } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport Pages from './Pages.vue';\r\n\r\nconst router = useRouter();\r\nconst bus = inject('$bus');\r\n\r\nlet pageTitle = ref('');\r\nlet content = ref('');\r\nlet linkText = ref('');\r\nlet published = ref(true);\r\n\r\n\r\nfunction submitForm() {\r\n    if (!pageTitle || !content || !linkText) {\r\n        alert('Please fill in all fields')\r\n        return\r\n    }\r\n    let newPage = {\r\n        pageTitle: pageTitle,\r\n        content: content,\r\n        link: {\r\n            text: linkText,\r\n        },\r\n        published: published\r\n    }\r\n    pages.addPage(newPage);\r\n\r\n    bus.$emit('page-created', newPage);\r\n    router.push({ path: '/pages' });\r\n}\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n    emits: ['pageCreated'],\r\n    computed: {\r\n        isFormInValid() {\r\n            return !this.pageTitle || !this.content || !this.linkText || !this.linkURL;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n    },\r\n    watch: {\r\n        pageTitle(newTitle, oldTitle) {\r\n            if (this.linkText === oldTitle) {\r\n                this.linkText = newTitle;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":";AAyCA,SAASA,MAAM,EAAEC,GAAG,EAACC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AACjD,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,KAAK,MAAM,aAAa;AAiC/B,MAAAC,WAAA,GAAe;EACXC,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBL,QAAQ,EAAE;IACNM,aAAaA,CAAA,EAAG;MACZ,OAAO,CAAC,IAAI,CAACC,SAAS,IAAI,CAAC,IAAI,CAACC,OAAO,IAAI,CAAC,IAAI,CAACC,QAAQ,IAAI,CAAC,IAAI,CAACC,OAAO;IAC9E;EACJ,CAAC;EAEDC,OAAO,EAAE,CAET,CAAC;EACDV,KAAK,EAAE;IACHM,SAASA,CAACK,QAAQ,EAAEC,QAAQ,EAAE;MAC1B,IAAI,IAAI,CAACJ,QAAQ,KAAKI,QAAQ,EAAE;QAC5B,IAAI,CAACJ,QAAQ,GAAGG,QAAQ;MAC5B;IACJ;EACJ;AACJ,CAAC;;;;;;;IAjDD,MAAME,MAAM,GAAGZ,SAAS,CAAC,CAAC;IAC1B,MAAMa,GAAG,GAAGjB,MAAM,CAAC,MAAM,CAAC;IAE1B,IAAIS,SAAS,GAAGR,GAAG,CAAC,EAAE,CAAC;IACvB,IAAIS,OAAO,GAAGT,GAAG,CAAC,EAAE,CAAC;IACrB,IAAIU,QAAQ,GAAGV,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIiB,SAAS,GAAGjB,GAAG,CAAC,IAAI,CAAC;IAGzB,SAASkB,UAAUA,CAAA,EAAG;MAClB,IAAI,CAACV,SAAS,IAAI,CAACC,OAAO,IAAI,CAACC,QAAQ,EAAE;QACrCS,KAAK,CAAC,2BAA2B,CAAC;QAClC;MACJ;MACA,IAAIC,OAAO,GAAG;QACVZ,SAAS,EAAEA,SAAS;QACpBC,OAAO,EAAEA,OAAO;QAChBY,IAAI,EAAE;UACFC,IAAI,EAAEZ;QACV,CAAC;QACDO,SAAS,EAAEA;MACf,CAAC;MACDM,KAAK,CAACC,OAAO,CAACJ,OAAO,CAAC;MAEtBJ,GAAG,CAACS,KAAK,CAAC,cAAc,EAAEL,OAAO,CAAC;MAClCL,MAAM,CAACW,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}